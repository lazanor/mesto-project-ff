(()=>{"use strict";var e=function(e,t,n,r,o){var c=document.querySelector("#card-template").content.querySelector(".card").cloneNode(!0);c.querySelector(".card__title").textContent=e,c.querySelector(".card__image").src=t,c.querySelector(".card__image").alt="Фотография места: ".concat(e);var p=c.querySelector(".card__delete-button");p.addEventListener("click",(function(){return o(p.closest(".card"))})),c.querySelector(".card__image").addEventListener("click",(function(){return n(t,e)}));var u=c.querySelector(".card__like-button");return u.addEventListener("click",(function(){return r(u)})),c},t=function(e){e.classList.toggle("card__like-button_is-active")},n=function(e){e.remove()},r=function(e){e.classList.add("popup_is-opened"),e.addEventListener("click",p),document.addEventListener("keydown",c)},o=function(e){e.classList.remove("popup_is-opened"),e.removeEventListener("click",p),document.removeEventListener("keydown",c)},c=function(e){if("Escape"===e.key){var t=document.querySelector(".popup_is-opened");t&&o(t)}},p=function(e){var t=document.querySelector(".popup_is-opened");t&&(e.composedPath().includes(t.querySelector(".popup__content"))||o(t))},u=document.querySelector(".content"),i=u.querySelector(".places__list"),d=document.querySelector(".popup_type_new-card"),a=document.querySelector(".popup_type_edit"),l=document.querySelector(".popup_type_image"),s=function(e,t){r(l);var n=l.querySelector(".popup__image");n.src=e,n.alt="Фотография места: ".concat(t),l.querySelector(".popup__caption").textContent=t};!function(){var c=u.querySelector(".profile__add-button"),p=u.querySelector(".profile__edit-button"),_=document.querySelector(".popup_type_new-card .popup__content .popup__close"),m=document.querySelector(".popup_type_edit .popup__content .popup__close"),v=document.querySelector(".popup_type_image .popup__content .popup__close");document.querySelector(".popup_type_new-card .popup__button"),c.addEventListener("click",(function(){return r(d)})),p.addEventListener("click",(function(){return f(a)})),_.addEventListener("click",(function(){return o(d)})),m.addEventListener("click",(function(){return o(a)})),v.addEventListener("click",(function(){return o(l)}));var y=document.forms["new-place"];y.addEventListener("submit",(function(r){return function(r){r.preventDefault();var c=y.elements["place-name"].value,p=y.elements.link.value,u=e(c,p,s,t,n);i.prepend(u),o(d),y.reset()}(r)}));var f=function(e){r(e);var t=document.forms["edit-profile"],n=t.elements.name,o=t.elements.description;n.value=document.querySelector(".profile__title").textContent,o.value=document.querySelector(".profile__description").textContent},k=document.forms["edit-profile"],q=k.elements.name,S=k.elements.description;k.addEventListener("submit",(function(e){return function(e,t,n,r){e.preventDefault(),u.querySelector(".profile__title").textContent=n,u.querySelector(".profile__description").textContent=r,o(t),k.reset()}(e,a,q.value,S.value)}))}(),function(r,o){[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(r){var c=e(r.name,r.link,s,t,n);o.append(c)}))}(0,i)})();